####################################################################
# StopGenerationSubmodel_SchoolHalfTour2.py
# School-based Tour Half Tour 2 submodel for Stop Generation
####################################################################

from StopGenerationSubmodelCommon import *
from StopGenMemDataRefs import *

parameters = {
              # These are the parameters to generate the specific stop alternatives for this model
              "MaxStops" : 2,
              "StopPurposeDescriptions" : ['school stops', 'uni stops', 'meal stops', 'shop stops', 'pb stops', 'sr stops', 'esc stops'],
              "StopPurposeIds" : [1, 4, 8, 16, 32, 64, 128],
              #N/A
              "unavailableAlternativesA" : [],
              #N/A
              "unavailableAlternativesB" : [],
             }

#Alternatives determined by the combination of stop purposes and maximum number of stops
altIntrinsicValues = [   0,   1,   2,   3,   4,   5,   6,   7,   8,   9,  10,  11,  12,  13,  14,  15,  16,  17,  18,  19,
  20,  21,  22,  23,  24,  25,  26,  27,  28,  29,  30,  31,  32,  33,  34,  35,]

# altNames is required for config file but not used here because of the complexity of the alternatives
altNames = []

nestList = [
["Root", 0, 1, [], [1, 2, 3]],
["0-stop alts", 1, 0.692, [0], []],
["1-stop alts", 2, 0.692, [   1,   2,   3,   4,   5,   6,   7,], []],
["2-stop alts", 3, 0.692, [   8,   9,  10,  11,  12,  13,  14,  15,  16,  17,  18,  19,  20,  21,  22,  23,  24,  25,  26,  27,
  28,  29,  30,  31,  32,  33,  34,  35,], []],
]
           
altSpecificConsts = [0, -7.35679, -7.35679, -7.81892, -11.43241, -8.17527, -7.83402, -6.60755, -12.12168, -11.95848, 
-11.02848, -20.32414, -11.54905, -11.45796, -11.20924, -12.12168, -12.96963, -15.14043, -12.77695, -14.09902, 
-11.20924, -12.05649, -15.17036, -10.11389, -11.14535, -13.35728, -15.13341, -17.53491, -15.78352, -14.59605, 
-12.41284, -12.74352, -12.02771, -12.0716, -11.36992, -10.51214]


durableCoeffs = [

]

transientCoeffs = [
# 0 CHD16 # Child Age 16+
[
  0.000000,  0.135531, -0.237049,  0.054464, -0.237049, -0.237049,  0.179356,  0.010110,  0.000000,  0.372579,
  0.664092,  0.372579,  0.372579,  0.788983,  0.619738,  0.000000,  0.291513,  0.000000,  0.000000,  0.416404,
  0.247159,  0.000000,  0.291513,  0.291513,  0.707917,  0.538671,  0.000000,  0.000000,  0.416404,  0.247159,
  0.000000,  0.416404,  0.247159,  0.000000,  0.663563,  0.000000
],
# 1 MALE #  
[
  0.000000, -0.441477, -0.441477, -0.441477, -0.329666, -0.242828, -0.441477, -0.441477, -0.882954, -0.882954,
 -0.882954, -0.771143, -0.684305, -0.882954, -0.882954, -0.882954, -0.882954, -0.771143, -0.684305, -0.882954,
 -0.882954, -0.882954, -0.771143, -0.684305, -0.882954, -0.882954, -0.882954, -0.572495, -0.771143, -0.771143,
 -0.882954, -0.684305, -0.684305, -0.882954, -0.882954, -0.882954
],
# 2 (NSCH+NUNI) # Number of School- University Tours
[
  0.000000,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,
  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,
  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,
  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758
],
# 3 (NSCH+NUNI) # Number of School- University Tours
[
  0.000000,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,
  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,
  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,
  0.939758,  0.939758,  0.939758,  0.939758,  0.939758,  0.939758
],
# 4 DISTANCE # Distance - HT1+HT2
[
  0.000000,  0.017965,  0.014765,  0.014765,  0.036522,  0.022950,  0.014765,  0.014765,  0.014765,  0.017965,
  0.017965,  0.039722,  0.026149,  0.017965,  0.017965,  0.014765,  0.014765,  0.036522,  0.022950,  0.014765,
  0.014765,  0.014765,  0.036522,  0.022950,  0.014765,  0.014765,  0.014765,  0.044707,  0.036522,  0.036522,
  0.014765,  0.022950,  0.022950,  0.014765,  0.014765,  0.014765
],
# 5 MXDENS # mixed density at destination
[
  0.000000,  0.000000,  0.000000,  0.000000,  0.000204, -0.000271,  0.000000,  0.000000,  0.000000,  0.000000,
  0.000000,  0.000204, -0.000271,  0.000000,  0.000000,  0.000000,  0.000000,  0.000204, -0.000271,  0.000000,
  0.000000,  0.000000,  0.000204, -0.000271,  0.000000,  0.000000,  0.000204, -0.000067,  0.000204,  0.000204,
 -0.000271, -0.000271, -0.000271,  0.000000,  0.000000,  0.000000
],
# 6 IT_EMP/DAREA # Employment Density at Destination
[
  0.000000,  0.000000,  0.000000,  0.000000, -0.000048,  0.000000,  0.000000,  0.000000,  0.000000,  0.000000,
  0.000000, -0.000048,  0.000000,  0.000000,  0.000000,  0.000000,  0.000000, -0.000048,  0.000000,  0.000000,
  0.000000,  0.000000, -0.000048,  0.000000,  0.000000,  0.000000, -0.000048, -0.000048, -0.000048, -0.000048,
  0.000000,  0.000000,  0.000000,  0.000000,  0.000000,  0.000000
],
# 7 (DEPPER2-ARRPER2) # Duration of Tour Activity (in number of 30-min periods)
[
  0.000000,  0.065212,  0.065212,  0.065212,  0.017198,  0.065212,  0.065212,  0.065212,  0.065212,  0.065212,
  0.065212,  0.017198,  0.065212,  0.065212,  0.065212,  0.065212,  0.065212,  0.017198,  0.065212,  0.065212,
  0.065212,  0.065212,  0.017198,  0.065212,  0.065212,  0.065212,  0.017198,  0.017198,  0.017198,  0.017198,
  0.065212,  0.065212,  0.065212,  0.065212,  0.065212,  0.065212
],
# 8 LOG(PERAVHT2+1) # ln(1 + Number of Available Periods)
[
  0.000000,  0.706840,  0.706840,  0.365201,  2.048778,  0.706840,  1.382241,  0.420009,  1.390374,  1.390374,
  1.048736,  2.732312,  1.390374,  2.065775,  1.103544,  1.390374,  1.048736,  2.732312,  1.390374,  2.065775,
  1.103544,  1.048736,  2.390674,  1.048736,  1.724137,  0.761905,  2.732312,  2.732312,  3.407713,  2.445482,
  1.390374,  2.065775,  1.103544,  2.065775,  1.778944,  1.103544
],

# 9 BEFOREAM # Departure Time before 9AM
[
  0.000000,  0.000000,  2.709868,  0.000000,  1.661902,  0.000000,  0.000000,  0.000000,  0.000000,  2.709868,
  0.000000,  1.661902,  0.000000,  0.000000,  0.000000,  2.709868,  2.709868,  4.371771,  2.709868,  2.709868,
  2.709868,  0.000000,  1.661902,  0.000000,  0.000000,  0.000000,  1.661902,  1.661902,  1.661902,  1.661902,
  0.000000,  0.000000,  0.000000,  0.000000,  0.000000,  0.000000
],
# 10 NOON_AM # Departure Time 9AM and 12 pm
[  0, 2.0133, 2.49511, 2.0133, 2.0133, 2.0133, 2.0133, 2.0133, 4.0266, 4.50841, 
4.0266, 4.0266, 4.0266, 4.0266, 4.0266, 4.50841, 4.50841, 4.50841, 4.50841, 4.50841, 
4.50841, 4.0266, 4.0266, 4.0266, 4.0266, 4.0266, 4.0266, 4.0266, 4.0266, 4.0266, 
4.0266, 4.0266, 4.0266, 4.0266, 4.0266, 4.0266], 


# 11 RET_PM2 # Departure Time After 6 PM
[
  0.000000, -2.018171, -2.018171, -2.018171, -2.018171, -2.018171, -2.018171, -2.018171, -2.018171, -2.018171,
 -2.018171, -2.018171, -2.018171, -2.018171, -2.018171, -2.018171, -2.018171, -2.018171, -2.018171, -2.018171,
 -2.018171, -2.018171, -2.018171, -2.018171, -2.018171, -2.018171, -2.018171, -2.018171, -2.018171, -2.018171,
 -2.018171, -2.018171, -2.018171, -2.018171, -2.018171, -2.018171
],
# 12 STOP1_TOT # Number of Stops on HT1
[
  0.000000,  1.725524,  1.725524,  1.725524,  0.843185,  1.725524,  0.816248,  1.725524,  1.725524,  1.725524,
  1.725524,  0.843185,  1.725524,  0.816248,  1.725524,  1.725524,  1.725524,  0.843185,  1.725524,  0.816248,
  1.725524,  1.725524,  0.843185,  1.725524,  0.816248,  1.725524,  0.843185,  0.843185, -0.066091,  0.843185,
  1.725524,  0.816248,  1.725524,  0.816248,  0.816248,  1.725524
],
# 13 Departure time after 4PM
[  0, -0.4, -0.4, -0.4, -0.4, -0.4, -0.4, -0.4, -0.8, -0.8, 
-0.8, -0.8, -0.8, -0.8, -0.8, -0.8, -0.8, -0.8, -0.8, -0.8, 
-0.8, -0.8, -0.8, -0.8, -0.8, -0.8, -0.8, -0.8, -0.8, -0.8, 
-0.8, -0.8, -0.8, -0.8, -0.8, -0.8], 




]

from StopGenerationSubmodelSchoolHalfTour2Maps import durableCoeffMap,transientCoeffMap
