####################################################################
# StopGenerationSubmodel_FullyJointHalfTour1.py
# FullyJoint Tours Half Tour 1 submodel for Stop Generation
####################################################################

from StopGenerationSubmodelCommon import *
from StopGenMemDataRefs import *

parameters = {
              # These are the parameters to generate the specific stop alternatives for this model
              "MaxStops" : 2,
              "StopPurposeDescriptions" : ['meal stops', 'shop stops', 'pb stops', 'sr stops', 'esc stops'],
              "StopPurposeIds" : [8, 16, 32, 64, 128],
              #N/A
              "unavailableAlternativesA" : [],
              #N/A
              "unavailableAlternativesB" : [],
             }

#Alternatives determined by the combination of stop purposes and maximum number of stops
altIntrinsicValues = [   0,   1,   2,   3,   4,   5,   6,   7,   8,   9,  10,  11,  12,  13,  14,  15,  16,  17,  18,  19, 20]

# altNames is required for config file but not used here because of the complexity of the alternatives
altNames = []

nestList = [
["Root", 0, 1.0, [], [1, 2, 3]],
["0-stop alts", 1, 0.8, [0], []],
["1-stop alts", 2, 0.8, [   1,   2,   3,   4,   5,], []],
["2-stop alts", 3, 0.8, [   6,   7,   8,   9,  10,  11,  12,  13,  14,  15,  16,  17,  18,  19,  20,], []]
]
           
altSpecificConsts = [0, -5.89159, -3.64916, -8.14339, -2.94278, -3.73812, -9.57078, -7.80639, -11.95122, -7.1323, 
-7.89534, -6.20398, -8.1094, -5.39221, -5.87962, -10.14714, -7.20671, -10.15956, -5.31248, -4.94654, 
-5.74187] 


durableCoeffs = [
# INC100 # Income greater than $100K
[0, -0.2, -0.91377, -0.2, -0.2, -0.2, -0.4, -1.11377, -0.4, -0.4, 
-0.4, -1.11377, -1.11377, -1.11377, -1.11377, -0.4, -0.4, -0.4, -0.4, -0.4, 
-0.4], 

]
transientCoeffs = [
###### 0 Tour Purpose
[ placeholder]*21,
# 1 2PPL # Party Size 2
[
  0.000000, -0.245040, -0.245040, -0.245040, -0.245040, -0.245040, -0.245040, -0.245040, -0.245040, -0.245040,
 -0.245040, -0.245040, -0.245040, -0.245040, -0.245040, -0.245040, -0.245040, -0.245040, -0.245040, -0.245040,
 -0.245040
],
# 2 ONLYCHILD # Children only in Group
[
  0.000000, -1.002767,  0.377186,  0.377186,  0.111207,  0.377186, -1.002767, -1.002767, -1.002767, -1.268746,
 -1.002767,  0.377186,  0.377186,  0.111207,  0.377186,  0.377186,  0.111207,  0.377186,  0.111207,  0.111207,
  0.377186
],
# 3 (1-ONLYCHILD) # At least 1 Adult in Group
[
  0.000000,  0.000000,  0.617468,  1.355332,  0.000000,  0.000000,  0.000000,  0.617468,  1.355332,  0.000000,
  0.000000,  0.617468,  1.972800,  0.617468,  0.617468,  1.355332,  1.355332,  1.355332,  0.000000,  0.000000,
  0.000000
],
# 4 ONLY_MALE # Males only in Group
[
  0.000000, -0.645791, -1.648132, -0.645791, -0.645791,  0.102170, -0.645791, -1.648132, -0.645791, -0.645791,
  0.102170, -1.648132, -1.648132, -1.648132, -0.900171, -0.645791, -0.645791,  0.102170, -0.645791,  0.102170,
  0.102170
],
# 5 (1-ONLY_MALE) # At least 1 woman in group
[
  0.000000, -0.363886, -0.363886, -0.363886, -0.363886, -0.363886, -0.727771, -0.727771, -0.727771, -0.727771,
 -0.727771, -0.727771, -0.727771, -0.727771, -0.727771, -0.727771, -0.727771, -0.727771, -0.727771, -0.727771,
 -0.727771
],
# 6 WRK_JNT # 1+ Worker in Group
[
  0.000000, -0.366726, -0.366726, -0.366726, -0.366726, -0.366726, -0.366726, -0.366726, -0.366726, -0.366726,
 -0.366726, -0.366726, -0.366726, -0.366726, -0.366726, -0.366726, -0.366726, -0.366726, -0.366726, -0.366726,
 -0.366726
],
# 7 IFGE(MAND_TOUR,1) # Presence of Mandatory Tours
[
  0.000000,  0.498205,  0.498205,  0.498205,  0.498205,  0.498205,  0.498205,  0.498205,  0.498205,  0.498205,
  0.498205,  0.498205,  0.498205,  0.498205,  0.498205,  0.498205,  0.498205,  0.498205,  0.498205,  0.498205,
  0.498205
],
# 8 DISTANCE # Round Trip Auto Travel Distance (mi) 
[ placeholder]*21,
# 9 MXDENS # Mixed Density at Destination
[
  0.000000,  0.000110,  0.000241,  0.000110,  0.000110,  0.000110,  0.000110,  0.000241,  0.000110,  0.000110,
  0.000110,  0.000241,  0.000241,  0.000241,  0.000241,  0.000110,  0.000110,  0.000110,  0.000110,  0.000110,
  0.000110
],
# 10 ITOTEMP/OAREA # Employment Density at Destination
[
  0.000000,  0.000009, -0.000053, -0.000053, -0.000053, -0.000053,  0.000009,  0.000009,  0.000009,  0.000009,
  0.000009, -0.000053, -0.000053, -0.000053, -0.000053, -0.000053, -0.000053, -0.000053, -0.000053, -0.000053,
 -0.000053
],
# 11 (DEPPER2-ARRPER2) # Duration of Tour Activity (in number of 30-min periods) 
[ placeholder]*21,
# 12 LOG(1+PERAVHT1) # Natural Log of (1 + Number of Available Periods) 
[ placeholder]*21,
# 13 BEFOREAM # Arrival Time Before 10AM 
[ placeholder]*21,
# 14 RET_PM1 # Arrival Time after 4:00 pm
[0, -0.65, -2.2729, 0.06769, -0.72375, -0.65, -1.3, -2.9229, -0.58231, -1.37375, 
-1.3, -2.9229, -2.20521, -2.99665, -2.9229, -0.58231, -0.65606, -0.58231, -1.37375, -1.37375, 
-1.3], 
# 15 Added in Calibration # Arrival Time after 7:00 pm
[0, 0.75, 0.75, 0.75, 0.75, 0.75, 1.5, 1.5, 1.5, 1.5, 
1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 1.5, 
1.5], 



]

from StopGenerationSubmodelFullyJointHalfTour1Maps import durableCoeffMap,transientCoeffMap

segmentDefinitions = [{'Name': 'Tour Purpose', 'DataRef': 'Tour','Offset': 0, 'DataRange': [8, 16, 32, 64, 128]}
]
segmentCoeffMap = [{'Segment': 0, 'Vector': 'transient', 'Offset': 0, 
  'Coefficients': # TOURPURP # Purpose 
#  Meal      Shop      PerBus   SocRec     SchEsc
[
[  0.00000,  0.00000,  0.00000,  0.00000,  0.00000,],
[  0.00000,  3.49910,  1.63211,  0.00000,  0.00000,],
[  0.00000,  0.00000,  1.63211,  0.00000,  0.00000,],
[  0.00000,  0.00000,  1.63211,  0.00000,  0.00000,],
[  0.00000,  0.00000,  1.63211,  0.00000,  0.00000,],
[  0.00000,  0.00000,  1.26877,  0.14038,  0.00000,],
[  0.00000,  3.49910,  1.63211,  0.00000,  0.00000,],
[  0.00000,  3.49910,  1.63211,  0.00000,  0.00000,],
[  0.00000,  3.49910,  1.63211,  0.00000,  0.00000,],
[  0.00000,  3.49910,  1.63211,  0.00000,  0.00000,],
[  0.00000,  3.49910,  1.26877,  0.14038,  0.00000,],
[  0.00000,  0.00000,  1.63211,  0.00000,  0.00000,],
[  0.00000,  0.00000,  1.63211,  0.00000,  0.00000,],
[  0.00000,  0.00000,  1.63211,  0.00000,  0.00000,],
[  0.00000,  0.00000,  1.26877,  0.14038,  0.00000,],
[  0.00000,  0.00000,  1.63211,  0.00000,  0.00000,],
[  0.00000,  0.00000,  1.63211,  0.00000,  0.00000,],
[  0.00000,  0.00000,  1.26877,  0.14038,  0.00000,],
[  0.00000,  0.00000,  1.63211,  0.00000,  0.00000,],
[  0.00000,  0.00000,  1.26877,  0.14038,  0.00000,],
[  0.00000,  0.00000,  1.26877,  0.14038,  0.00000,],
]
  },
{'Segment': 0, 'Vector': 'transient', 'Offset': 8, 
  'Coefficients': # DISTANCE # Round Trip Auto Travel Distance (mi) 
#  Meal      Shop      PerBus   SocRec     SchEsc
[
[  0.00000,  0.00000,  0.00000,  0.00000,  0.00000,],
[ -0.00115,  0.00239,  0.00239,  0.00239,  0.00239,],
[ -0.00115,  0.00239,  0.00239,  0.00239,  0.00239,],
[ -0.00115,  0.00239,  0.00239,  0.00239,  0.00239,],
[ -0.00115,  0.00239,  0.00239,  0.00239,  0.00239,],
[ -0.00115,  0.00239,  0.00239,  0.00239,  0.00239,],
[ -0.00115,  0.00239,  0.00239,  0.00239,  0.00239,],
[ -0.00115,  0.00239,  0.00239,  0.00239,  0.00239,],
[ -0.00115,  0.00239,  0.00239,  0.00239,  0.00239,],
[ -0.00115,  0.00239,  0.00239,  0.00239,  0.00239,],
[ -0.00115,  0.00239,  0.00239,  0.00239,  0.00239,],
[ -0.00115,  0.00239,  0.00239,  0.00239,  0.00239,],
[ -0.00115,  0.00239,  0.00239,  0.00239,  0.00239,],
[ -0.00115,  0.00239,  0.00239,  0.00239,  0.00239,],
[ -0.00115,  0.00239,  0.00239,  0.00239,  0.00239,],
[ -0.00115,  0.00239,  0.00239,  0.00239,  0.00239,],
[ -0.00115,  0.00239,  0.00239,  0.00239,  0.00239,],
[ -0.00115,  0.00239,  0.00239,  0.00239,  0.00239,],
[ -0.00115,  0.00239,  0.00239,  0.00239,  0.00239,],
[ -0.00115,  0.00239,  0.00239,  0.00239,  0.00239,],
[ -0.00115,  0.00239,  0.00239,  0.00239,  0.00239,],
]
   },
{'Segment': 0, 'Vector': 'transient', 'Offset': 11, 
  'Coefficients': # (DEPPER2-ARRPER2) # Duration of Tour Activity (in number of 30-min periods) 
#  Meal      Shop      PerBus   SocRec     SchEsc
[
[  0.00000,  0.00000,  0.00000,  0.00000,  0.00000,],
[ -0.41731,  0.09451,  0.00000,  0.00000,  0.00000,],
[ -0.41731,  0.09451,  0.00000,  0.00000,  0.00000,],
[ -0.41731,  0.09451,  0.00000,  0.00000,  0.00000,],
[ -0.41731,  0.09451,  0.00000,  0.00000,  0.00000,],
[ -0.41731,  0.09451,  0.00000,  0.00000,  0.00000,],
[ -0.41731,  0.09451,  0.00000,  0.00000,  0.00000,],
[ -0.41731,  0.09451,  0.00000,  0.00000,  0.00000,],
[ -0.41731,  0.09451,  0.00000,  0.00000,  0.00000,],
[ -0.41731,  0.09451,  0.00000,  0.00000,  0.00000,],
[ -0.41731,  0.09451,  0.00000,  0.00000,  0.00000,],
[ -0.41731,  0.09451,  0.00000,  0.00000,  0.00000,],
[ -0.41731,  0.09451,  0.00000,  0.00000,  0.00000,],
[ -0.41731,  0.09451,  0.00000,  0.00000,  0.00000,],
[ -0.41731,  0.09451,  0.00000,  0.00000,  0.00000,],
[ -0.41731,  0.09451,  0.00000,  0.00000,  0.00000,],
[ -0.41731,  0.09451,  0.00000,  0.00000,  0.00000,],
[ -0.41731,  0.09451,  0.00000,  0.00000,  0.00000,],
[ -0.41731,  0.09451,  0.00000,  0.00000,  0.00000,],
[ -0.41731,  0.09451,  0.00000,  0.00000,  0.00000,],
[ -0.41731,  0.09451,  0.00000,  0.00000,  0.00000,],
]
  },
{'Segment': 0, 'Vector': 'transient', 'Offset': 12, 
  'Coefficients': # LOG(1+PERAVHT1) # Natural Log of (1 + Number of Available Periods) 
#  Meal      Shop      PerBus   SocRec     SchEsc
[
[  0.00000,  0.00000,  0.00000,  0.00000,  0.00000,],
[  1.40472,  0.58986,  0.28564,  0.58986,  0.58986,],
[  1.40472,  0.58986,  0.28564,  0.58986,  0.58986,],
[  1.40472,  0.58986,  0.28564,  0.58986,  0.58986,],
[  1.40472,  0.58986,  0.28564,  0.58986,  0.58986,],
[  1.40472,  0.58986,  0.28564,  0.58986,  0.58986,],
[  1.29191,  0.47705,  0.17283,  0.47705,  0.47705,],
[  1.29191,  0.47705,  0.17283,  0.47705,  0.47705,],
[  1.29191,  0.47705,  0.17283,  0.47705,  0.47705,],
[  1.29191,  0.47705,  0.17283,  0.47705,  0.47705,],
[  1.29191,  0.47705,  0.17283,  0.47705,  0.47705,],
[  1.29191,  0.47705,  0.17283,  0.47705,  0.47705,],
[  1.29191,  0.47705,  0.17283,  0.47705,  0.47705,],
[  1.29191,  0.47705,  0.17283,  0.47705,  0.47705,],
[  1.29191,  0.47705,  0.17283,  0.47705,  0.47705,],
[  1.29191,  0.47705,  0.17283,  0.47705,  0.47705,],
[  1.29191,  0.47705,  0.17283,  0.47705,  0.47705,],
[  1.29191,  0.47705,  0.17283,  0.47705,  0.47705,],
[  1.29191,  0.47705,  0.17283,  0.47705,  0.47705,],
[  1.29191,  0.47705,  0.17283,  0.47705,  0.47705,],
[  1.29191,  0.47705,  0.17283,  0.47705,  0.47705,],
]
  },
{'Segment': 0, 'Vector': 'transient', 'Offset': 13, 
  'Coefficients': # BEFOREAM # Arrival Time Before 10AM 
#  Meal      Shop      PerBus   SocRec     SchEsc
[
[  0.00000,  0.00000,  0.00000,  0.00000,  0.00000,],
[  0.00000,  1.06916,  0.00000,  0.00000,  0.00000,],
[ -3.54984, -2.48068, -3.54984, -3.54984, -3.54984,],
[  0.00000,  1.06916,  0.00000,  0.00000,  0.00000,],
[ -0.96551,  0.10364, -0.96551, -0.96551, -0.96551,],
[  0.00000,  1.06916,  0.00000,  0.00000,  0.00000,],
[  0.00000,  1.06916,  0.00000,  0.00000,  0.00000,],
[ -3.54984, -2.48068, -3.54984, -3.54984, -3.54984,],
[  0.00000,  1.06916,  0.00000,  0.00000,  0.00000,],
[ -0.96551,  0.10364, -0.96551, -0.96551, -0.96551,],
[  0.00000,  1.06916,  0.00000,  0.00000,  0.00000,],
[ -3.54984, -2.48068, -3.54984, -3.54984, -3.54984,],
[ -3.54984, -2.48068, -3.54984, -3.54984, -3.54984,],
[ -4.51535, -3.44620, -4.51535, -4.51535, -4.51535,],
[ -3.54984, -2.48068, -3.54984, -3.54984, -3.54984,],
[  0.00000,  1.06916,  0.00000,  0.00000,  0.00000,],
[ -0.96551,  0.10364, -0.96551, -0.96551, -0.96551,],
[  0.00000,  1.06916,  0.00000,  0.00000,  0.00000,],
[ -0.96551,  0.10364, -0.96551, -0.96551, -0.96551,],
[ -0.96551,  0.10364, -0.96551, -0.96551, -0.96551,],
[  0.00000,  1.06916,  0.00000,  0.00000,  0.00000,],
]
  },
]
